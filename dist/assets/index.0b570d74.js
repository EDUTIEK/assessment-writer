var x=Object.defineProperty;var S=Object.getOwnPropertySymbols;var A=Object.prototype.hasOwnProperty,N=Object.prototype.propertyIsEnumerable;var U=(e,t,n)=>t in e?x(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,y=(e,t)=>{for(var n in t||(t={}))A.call(t,n)&&U(e,n,t[n]);if(S)for(var n of S(t))N.call(t,n)&&U(e,n,t[n]);return e};import{l as R,d as T,a as l,b as z,m as K,o as f,c as g,w as s,e as a,V as D,f as C,g as k,h as v,i as B,j as d,k as h,n as c,p as F,q as M,E as O,r as m,s as P,t as E,u as q,v as p,x as j,y as H,z as G,A as J,B as Q,C as W}from"./vendor.fff15cfd.js";const X=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerpolicy&&(o.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?o.credentials="include":r.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}};X();const L=R.createInstance({storeName:"task",description:"Task data"}),b=T("task",{state:()=>({instructions:null,writing_end:null}),actions:{setData(e){this.instructions=e.instructions+"xxx",this.writing_end=e.writing_end},async loadFromStorage(){try{const e=await L.getItem("task");this.setData(e)}catch(e){console.log(e)}},async loadFromData(e){try{await L.setItem("task",e),this.setData(e)}catch(t){console.log(t)}}}}),$=T("api",{state:()=>({initialized:!1,backendUrl:"",returnUrl:"",userKey:"",environmentKey:"",authToken:""}),getters:{requestConfig(e){let t=e.backendUrl,n=new URLSearchParams,i=t.search(/\?+/);return i!=-1&&(n=new URLSearchParams(t.substr(i)),t=t.substr(0,i)),{baseURL:t,params:n,headers:{LongEssayUser:e.userKey,LongEssayEnvironment:e.environmentKey,LongEssayToken:e.authToken},timeout:3e4,responseType:"json",responseEncoding:"utf8"}}},actions:{setInitialized(e){this.initialized=e},setBackendUrl(e){this.backendUrl=e,localStorage.setItem("backendUrl",e)},setReturnUrl(e){this.returnUrl=e,localStorage.setItem("returnUrl",e)},setUserKey(e){this.userKey=e,localStorage.setItem("userKey",e)},setEnvironmentKey(e){this.environmentKey=e,localStorage.setItem("environmentKey",e)},setAuthToken(e){this.authToken=e,localStorage.setItem("authToken",e)},refreshToken(e){this.authToken=e.headers.longessaytoken,localStorage.setItem("authToken",this.authToken)},async init(){let e=!1,t=localStorage.getItem("backendUrl"),n=localStorage.getItem("returnUrl"),i=localStorage.getItem("userKey"),r=localStorage.getItem("environmentKey"),o=localStorage.getItem("authToken");!!l.get("LongEssayBackend")&&l.get("LongEssayBackend")!==t&&(t=l.get("LongEssayBackend"),e=!0),!!l.get("LongEssayReturn")&&l.get("LongEssayReturn")!==n&&(n=l.get("LongEssayReturn"),e=!0),!!l.get("LongEssayUser")&&l.get("LongEssayUser")!==i&&(i=l.get("LongEssayUser"),e=!0),!!l.get("LongEssayEnvironment")&&l.get("LongEssayEnvironment")!==r&&(r=l.get("LongEssayEnvironment"),e=!0),!!l.get("LongEssayToken")&&l.get("LongEssayToken")!==o&&(o=l.get("LongEssayToken"),e=!0),!!t&&!!n&&!!i&&!!r&&!!o&&(this.setBackendUrl(t),this.setReturnUrl(n),this.setUserKey(i),this.setEnvironmentKey(r),this.setAuthToken(o),e?await this.loadDataFromBackend():await this.loadDataFromStorage(),this.setInitialized(!0))},async loadDataFromBackend(){let e={};try{e=await z.get("/data",this.requestConfig),this.refreshToken(e)}catch(n){console.error(n);return}await b().setData(e.data.task)},async loadDataFromStorage(){await b().loadFromStorage()}}});var _=(e,t)=>{const n=e.__vccOpts||e;for(const[i,r]of t)n[i]=r;return n};const Y={name:"AppBar",components:{},data:()=>({}),computed:y({},K($,["returnUrl"]))},Z=d("Fred Neumann, Klausur Vertragsrecht I"),ee=h("span",null,"0 Mitteilungen",-1),te=h("span",null,"Restzeit 02:13h",-1),ne=h("span",null,"Beenden ...",-1);function ae(e,t,n,i,r,o){return f(),g(B,{elevation:"1",color:"white",density:"compact"},{default:s(()=>[a(D,null,{default:s(()=>[Z]),_:1}),a(C),a(v,null,{default:s(()=>[a(k,{left:"",icon:"mdi-bell-outline"}),ee]),_:1}),a(v,null,{default:s(()=>[a(k,{left:"",icon:"mdi-clock-outline"}),te]),_:1}),a(v,{href:e.returnUrl},{default:s(()=>[a(k,{left:"",icon:"mdi-logout-variant"}),ne]),_:1},8,["href"])]),_:1})}var re=_(Y,[["render",ae]]);const oe={name:"NavBar"};function se(e,t,n,i,r,o){return f(),g(M,{elevation:"2",color:"grey-lighten-2",rail:"","expand-on-hover":""},{default:s(()=>[a(F,null,{default:s(()=>[a(c,{"prepend-icon":"mdi-text-box-outline",title:"Aufgabenstellung"}),a(c,{"prepend-icon":"mdi-file-edit-outline",title:"Essay schreiben"}),a(c,{"prepend-icon":"mdi-clipboard-outline",title:"Notizbrett 1"}),a(c,{"prepend-icon":"mdi-clipboard-outline",title:"Notizbrett 2"})]),_:1})]),_:1})}var ie=_(oe,[["render",se]]);const le={name:"StateBar"},ce=d(" This is the state Bar ");function ue(e,t,n,i,r,o){return f(),g(B,{position:"bottom",height:"48",color:"grey-lighten-5",elevation:"1"},{default:s(()=>[ce]),_:1})}var de=_(le,[["render",ue]]);const pe={name:"TinyEditor",components:{editor:O}};function me(e,t,n,i,r,o){const u=m("editor");return f(),g(u,{"api-key":"no-api-key",init:{height:500,menubar:!1,plugins:"lists charmap",toolbar:"undo redo | formatselect | bold italic |            bullist numlist outdent indent | removeformat | charmap"}})}var fe=_(pe,[["render",me]]);const ge={setup(){return{taskStore:b()}},name:"MainContent",components:{"tiny-example":fe},data:()=>({}),computed:y({instructions(){return this.taskStore.instructions}},K($,["initialized","backendUrl","returnUrl","userKey","environmentKey","authToken"]))},he=h("h2",{class:"text-h6"},"Aufgabenstellung",-1),_e=["innerHTML"],ye=h("h2",{class:"text-h6"},"Mein Text",-1);function ke(e,t,n,i,r,o){const u=m("tiny-example");return f(),g(H,null,{default:s(()=>[a(j,{color:"grey"},{default:s(()=>[a(P,{dense:""},{default:s(()=>[a(E,null,{default:s(()=>[he,h("div",{innerHTML:o.instructions},null,8,_e),a(q,null,{default:s(()=>[a(c,null,{default:s(()=>[d("initialized: "+p(e.initialized),1)]),_:1}),a(c,null,{default:s(()=>[d("backendUrl: "+p(e.backendUrl),1)]),_:1}),a(c,null,{default:s(()=>[d("returnUrl: "+p(e.returnUrl),1)]),_:1}),a(c,null,{default:s(()=>[d("userKey: "+p(e.userKey),1)]),_:1}),a(c,null,{default:s(()=>[d("environmentKey: "+p(e.environmentKey),1)]),_:1}),a(c,null,{default:s(()=>[d("authToken: "+p(e.authToken),1)]),_:1})]),_:1})]),_:1}),a(E,{color:"white"},{default:s(()=>[ye,a(u)]),_:1})]),_:1})]),_:1})]),_:1})}var ve=_(ge,[["render",ke]]);const be={setup(){$().init()},name:"App",components:{"app-bar":re,"nav-bar":ie,"main-content":ve,"state-bar":de},data:()=>({}),computed:{}};function $e(e,t,n,i,r,o){const u=m("app-bar"),I=m("nav-bar"),V=m("main-content"),w=m("state-bar");return f(),g(G,null,{default:s(()=>[a(u),a(I),a(V),a(w)]),_:1})}var Se=_(be,[["render",$e]]);var Ue=J();Q(Se).use(W()).use(Ue).mount("#app");
