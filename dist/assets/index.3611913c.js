var I=Object.defineProperty;var k=Object.getOwnPropertySymbols;var V=Object.prototype.hasOwnProperty,B=Object.prototype.propertyIsEnumerable;var _=(e,t,n)=>t in e?I(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,p=(e,t)=>{for(var n in t||(t={}))V.call(t,n)&&_(e,n,t[n]);if(k)for(var n of k(t))B.call(t,n)&&_(e,n,t[n]);return e};import{E as $,c as v,r as U,o as b,m as E,w as o,V as L,a,b as z,d as A,e as R,f as y,g as h,h as D,i as F,j as c,k as N,l as x,n as C,p as T,q as g,s as M,t as d,u as m,v as O,x as q,y as P,z as l,A as j,B as H}from"./vendor.02dcb3ba.js";const G=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const u of i.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerpolicy&&(i.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?i.credentials="include":r.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}};G();var K=(e,t)=>{const n=e.__vccOpts||e;for(const[s,r]of t)n[s]=r;return n};const J={name:"TinyEditor",components:{editor:$}};function Q(e,t,n,s,r,i){const u=U("editor");return b(),v(u,{"api-key":"no-api-key",init:{height:500,menubar:!1,plugins:"lists charmap",toolbar:"undo redo | formatselect | bold italic |            bullist numlist outdent indent | removeformat | charmap"}})}var W=K(J,[["render",Q]]);const X={name:"App",components:{"tiny-example":W},data:()=>({}),computed:p(p({},E(["initialized","backendUrl","returnUrl","userKey","environmentKey","authToken"])),E("task",["instructions"]))},Y=d("Fred Neumann, Klausur Vertragsrecht I"),Z=g("span",null,"0 Mitteilungen",-1),ee=g("span",null,"Restzeit 02:13h",-1),te=g("span",null,"Beenden ...",-1),ne=g("h2",{class:"text-h6"},"Aufgabenstellung",-1),ae=["innerHTML"],re=g("h2",{class:"text-h6"},"Mein Text",-1);function oe(e,t,n,s,r,i){const u=U("tiny-example");return b(),v(L,null,{default:o(()=>[a(L,null,{default:o(()=>[a(z,{elevation:"1",color:"white",density:"compact"},{default:o(()=>[a(A,null,{default:o(()=>[Y]),_:1}),a(R),a(y,null,{default:o(()=>[a(h,{left:"",icon:"mdi-bell-outline"}),Z]),_:1}),a(y,null,{default:o(()=>[a(h,{left:"",icon:"mdi-clock-outline"}),ee]),_:1}),a(y,{href:e.returnUrl},{default:o(()=>[a(h,{left:"",icon:"mdi-logout-variant"}),te]),_:1},8,["href"])]),_:1}),a(D,{elevation:"2",color:"grey-lighten-2",rail:"","expand-on-hover":""},{default:o(()=>[a(F,null,{default:o(()=>[a(c,{"prepend-icon":"mdi-text-box-outline",title:"Aufgabenstellung"}),a(c,{"prepend-icon":"mdi-file-edit-outline",title:"Essay schreiben"}),a(c,{"prepend-icon":"mdi-clipboard-outline",title:"Notizbrett 1"}),a(c,{"prepend-icon":"mdi-clipboard-outline",title:"Notizbrett 2"})]),_:1})]),_:1}),a(N,null,{default:o(()=>[a(x,{color:"grey"},{default:o(()=>[a(C,{dense:""},{default:o(()=>[a(T,null,{default:o(()=>[ne,g("div",{innerHTML:e.instructions},null,8,ae),a(M,null,{default:o(()=>[a(c,null,{default:o(()=>[d("initialized: "+m(e.initialized),1)]),_:1}),a(c,null,{default:o(()=>[d("backendUrl: "+m(e.backendUrl),1)]),_:1}),a(c,null,{default:o(()=>[d("returnUrl: "+m(e.returnUrl),1)]),_:1}),a(c,null,{default:o(()=>[d("userKey: "+m(e.userKey),1)]),_:1}),a(c,null,{default:o(()=>[d("environmentKey: "+m(e.environmentKey),1)]),_:1}),a(c,null,{default:o(()=>[d("authToken: "+m(e.authToken),1)]),_:1})]),_:1})]),_:1}),a(T,{color:"white"},{default:o(()=>[re,a(u)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}var se=K(X,[["render",oe]]);var ie=O();const S=q.createInstance({storeName:"task",description:"Task data"}),le={instructions:null,writing_end:null},ue={instructions:e=>e.instructions,writing_end:e=>e.writing_end},ce={setData(e,t){e.instructions=t.instructions,e.writing_end=t.writing_end}},de={async loadFromStorage({commit:e}){try{const t=await S.getItem("task");e("setData",t)}catch(t){console.log(t)}},async loadFromData({commit:e},t){try{await S.setItem("task",t),e("setData",t)}catch(n){console.log(n)}}},ge={};var me={namespaced:!0,state:le,getters:ue,mutations:ce,actions:de,modules:ge};const fe={initialized:!1,backendUrl:"",returnUrl:"",userKey:"",environmentKey:"",authToken:""},pe={initialized:e=>e.initialized,backendUrl:e=>e.backendUrl,returnUrl:e=>e.returnUrl,userKey:e=>e.userKey,environmentKey:e=>e.environmentKey,authToken:e=>e.authToken,requestConfig(e){let t=e.backendUrl,n=new URLSearchParams,s=t.search(/\?+/);return s!=-1&&(n=new URLSearchParams(t.substr(s)),t=t.substr(0,s)),{baseURL:t,params:n,headers:{LongEssayUser:e.userKey,LongEssayEnvironment:e.environmentKey,LongEssayToken:e.authToken},timeout:3e4,responseType:"json",responseEncoding:"utf8"}}},ye={setInitialized(e,t){e.initialized=t},setBackendUrl(e,t){e.backendUrl=t,localStorage.setItem("backendUrl",t)},setReturnUrl(e,t){e.returnUrl=t,localStorage.setItem("returnUrl",t)},setUserKey(e,t){e.userKey=t,localStorage.setItem("userKey",t)},setEnvironmentKey(e,t){e.environmentKey=t,localStorage.setItem("environmentKey",t)},setAuthToken(e,t){e.authToken=t,localStorage.setItem("authToken",t)},refreshToken(e,t){e.authToken=t.headers.longessaytoken,localStorage.setItem("authToken",e.authToken)}},he={async init({commit:e,dispatch:t}){let n=!1,s=localStorage.getItem("backendUrl"),r=localStorage.getItem("returnUrl"),i=localStorage.getItem("userKey"),u=localStorage.getItem("environmentKey"),f=localStorage.getItem("authToken");!!l.get("LongEssayBackend")&&l.get("LongEssayBackend")!==s&&(s=l.get("LongEssayBackend"),n=!0),!!l.get("LongEssayReturn")&&l.get("LongEssayReturn")!==r&&(r=l.get("LongEssayReturn"),n=!0),!!l.get("LongEssayUser")&&l.get("LongEssayUser")!==i&&(i=l.get("LongEssayUser"),n=!0),!!l.get("LongEssayEnvironment")&&l.get("LongEssayEnvironment")!==u&&(u=l.get("LongEssayEnvironment"),n=!0),!!l.get("LongEssayToken")&&l.get("LongEssayToken")!==f&&(f=l.get("LongEssayToken"),n=!0),!!s&&!!r&&!!i&&!!u&&!!f&&(e("setBackendUrl",s),e("setReturnUrl",r),e("setUserKey",i),e("setEnvironmentKey",u),e("setAuthToken",f),n?await t("loadDataFromBackend"):await t("loadDataFromStorage"),e("setInitialized",!0))},async loadDataFromBackend({commit:e,getters:t,dispatch:n}){let s={};try{s=await j.get("/data",t.requestConfig),e("refreshToken",s)}catch(r){console.error(r);return}await n("task/loadFromData",s.data.task)},async loadDataFromStorage({dispatch:e}){await e("task/loadFromStorage")}},ke={task:me};var w=P({state:fe,getters:pe,mutations:ye,actions:he,modules:ke});w.dispatch("init");H(se).use(w).use(ie).mount("#app");
