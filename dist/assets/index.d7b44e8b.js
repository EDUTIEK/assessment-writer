import{l as H,d as D,D as ce,m as ae,a as p,b as K,w as g,v as m,u as a,o as h,c as _,e as l,f as o,V as y,g as d,t as V,h as v,i as P,j as he,k as ie,n as I,p as ue,q as U,r as oe,s as $,x as se,y as ee,z as ge,A as me,B as E,C as re,F as Y,E as fe,G as pe,H as A,I as te,J as le,K as de,L as O,M,N,O as _e,P as ye,Q as ve,R as we}from"./vendor.63d96ca9.js";const Se=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerpolicy&&(r.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?r.credentials="include":s.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}};Se();const J=H.createInstance({storeName:"settings",description:"Settings data"}),q=D("settings",{state:()=>({headline_scheme:null,formatting_options:null,notice_boards:null,copy_allowed:null}),actions:{setData(e){this.headline_scheme=e.headline_scheme,this.formatting_options=e.formatting_options,this.notice_boards=e.notice_boards,this.copy_allowed=e.copy_allowed},async clearStorage(){try{await J.clear()}catch(e){console.log(e)}},async loadFromStorage(){try{const e=await J.getItem("settings");this.setData(e)}catch(e){console.log(e)}},async loadFromData(e){try{await J.setItem("settings",e),this.setData(e)}catch(t){console.log(t)}}}}),G=H.createInstance({storeName:"layout",description:"Layout data"}),B=D("layout",{state:()=>({expandedColumn:"left",leftContent:"instructions",rightContent:"essay",showTimer:!0}),getters:{isLeftExpanded:e=>e.expandedColumn=="left",isRightExpanded:e=>e.expandedColumn=="right",isLeftVisible:e=>e.expandedColumn!="right",isRightVisible:e=>e.expandedColumn!="left",isInstructionsSelected:e=>e.leftContent=="instructions",isResourcesSelected:e=>e.leftContent=="resources",isInstructionsVisible:e=>e.expandedColumn!="right"&&e.leftContent=="instructions",isResourcesVisible:e=>e.expandedColumn!="right"&&e.leftContent=="resources",isEssayVisible:e=>e.expandedColumn!="left"&&e.rightContent=="essay"},actions:{async clearStorage(){try{await G.clear()}catch(e){console.log(e)}},async loadFromStorage(){try{const e=await G.getItem("layout");e&&(this.expandedColumn=e.expandedColumn,this.rightContent=e.rightContent,this.showTimer=e.showTimer)}catch(e){console.log(e)}},async saveToStorage(){try{await G.setItem("layout",{expandedColumn:this.expandedColumn,leftContent:this.leftContent,rightContent:this.rightContent,showTimer:this.showTimer})}catch(e){console.log(e)}},showInstructions(){this.setLeftVisible(),this.leftContent="instructions",this.saveToStorage()},showResources(){this.setLeftVisible(),this.leftContent="resources",this.saveToStorage()},showEssay(){this.setRightVisible(),this.rightContent="essay",this.saveToStorage()},setLeftVisible(){this.isLeftVisible||(this.expandedColumn="left",this.saveToStorage())},setRightVisible(){this.isRightVisible||(this.expandedColumn="right",this.saveToStorage())},setLeftExpanded(e){this.expandedColumn=e?"left":"none",this.saveToStorage()},setRightExpanded(e){this.expandedColumn=e?"right":"none",this.saveToStorage()},toggleTimer(){this.showTimer=!this.showTimer,this.saveToStorage()}}}),k=H.createInstance({storeName:"resources",description:"Resource data"}),F=D("resources",{state:()=>({keys:[],resources:[],activeKey:""}),getters:{hasResources:e=>e.resources.length>0,activeTitle(e){const t=e.resources.find(n=>n.key==e.active_key);return t?t.title:""},getResource(e){return t=>e.resources.find(n=>n.key==t)},isActive(e){return t=>e.active_key==t.key}},actions:{async clearStorage(){try{await k.clear()}catch(e){console.log(e)}},async loadFromStorage(){var e;try{const t=await k.getItem("resourceKeys");t&&(this.keys=JSON.parse(t)),this.activeKey=(e=await k.getItem("activeKey"))!=null?e:[],this.resources=[];let n=0;for(;n<this.keys.length;){let i=await k.getItem(this.keys[n]);this.resources.push(i),n++}}catch(t){console.log(t)}},async loadFromData(e){const t=C();try{await k.clear(),this.keys=[],this.resources=[];let n=0;for(;n<e.length;){let i=e[n];i.url=t.resourceUrl(i.key),this.resources.push(i),this.keys.push(i.key),await k.setItem(i.key,i),n++}await k.setItem("resourceKeys",JSON.stringify(this.keys)),await k.setItem("activeKey",this.activeKey)}catch(n){console.log(n)}},async selectResource(e){this.active_key=e.key,await k.setItem("activeKey",this.activeKey)}}}),u=H.createInstance({storeName:"essay",description:"Essay data"}),T=new ce,Q=1e3,ke=5e3,Ie=5e3,xe=10,be=1e3,Z={storedContent:"",storedHash:"",history:[],lastStoredIndex:-1,lastSentIndex:-1,lastSentHash:"",currentContent:"",sumOfDistances:0,lastCheck:0,lastSave:0,lastSending:0};let R=0,ne=0;const L=D("essay",{state:()=>Z,getters:{hasHistory:e=>e.history.length>0,historyLength:e=>e.history.length,openSendings:e=>e.lastStoredIndex-e.lastSentIndex,unsentHistory(e){let t=[],n=e.lastSentIndex+1;for(;n<e.history.length;)t.push(e.history[n]),n++;return t},formatTimestamp(){return e=>new Date(e).toISOString().slice(0,19).replace("T"," ")},formatIndex(){return e=>e.toString().padStart(9,"0")},makeHash(){return(e,t)=>ae(e+t)}},actions:{async clearStorage(){try{await u.clear()}catch(e){console.log(e)}},addToHistory(e,t=0){let n=this.history.push(e)-1;return e.is_delta?this.sumOfDistances+=t:this.sumOfDistances=0,n},async loadFromData(e){var t,n,i;R=1;try{this.$state=Z,this.currentContent=(t=e.content)!=null?t:"",this.storedContent=(n=e.content)!=null?n:"",this.storedHash=(i=e.hash)!=null?i:"",await u.clear(),await u.setItem("storedContent",this.storedContent),await u.setItem("storedHash",this.storedHash);let s=0;for(;s<e.steps.length;){let r=e.steps[s],c={is_delta:r.is_delta,timestamp:r.timestamp,content:r.content,hash_before:r.hash_before,hash_after:r.hash_after};this.addToHistory(c),await u.setItem(this.formatIndex(s),c),s++}this.lastStoredIndex=this.history.length-1,this.lastSentIndex=this.history.length-1,this.lastSentHash=this.storedHash,await u.setItem("lastStoredIndex",this.lastStoredIndex),await u.setItem("lastSentIndex",this.lastSentIndex),await u.setItem("lastSentHash",this.lastSentHash)}catch(s){console.log(s)}R=0,setInterval(this.updateContent,Q)},async loadFromStorage(){var e,t,n,i,s;R=1;try{this.$state=Z,this.lastStoredIndex=(e=await u.getItem("lastStoredIndex"))!=null?e:-1,this.lastSentIndex=(t=await u.getItem("lastSentIndex"))!=null?t:-1,this.lastSentHash=(n=await u.getItem("lastSentHash"))!=null?n:"",this.storedContent=(i=await u.getItem("storedContent"))!=null?i:"",this.storedHash=(s=await u.getItem("storedHash"))!=null?s:"",this.currentContent=this.storedContent;let r=0;for(;r<=this.lastStoredIndex;){let c=await u.getItem(this.formatIndex(r));if(c==null)break;this.addToHistory(c),r++}}catch(r){console.log(r)}R=0,setInterval(this.updateContent,Q)},async updateContent(e=!1){const t=C(),n=Date.now();if(!(n-this.lastCheck<Q||R++||b().writingEndReached)){try{const s=this.currentContent+"";let r=null;if(s!=this.storedContent){const c=this.makeHash(s,t.serverTime(n));let f=T.diff_main(this.storedContent,s);T.diff_cleanupEfficiency(f);const w=T.diff_levenshtein(f),S=T.patch_toText(T.patch_make(this.storedContent,f)),W=T.patch_apply(T.patch_fromText(S),this.storedContent);this.history.length==0||S.length>s.length||this.sumOfDistances+w>be||W[0]!=s?r={is_delta:0,timestamp:t.serverTime(n),content:s,hash_before:this.storedHash,hash_after:c}:(w>=xe||n-this.lastSave>ke)&&(r={is_delta:1,timestamp:t.serverTime(n),content:S,hash_before:this.storedHash,hash_after:c}),r!==null&&(this.lastStoredIndex=this.addToHistory(r,w),this.lastSave=n,this.storedContent=s,this.storedHash=c,await u.setItem("storedContent",this.storedContent),await u.setItem("storedHash",this.storedHash),await u.setItem(this.formatIndex(this.lastStoredIndex),r),await u.setItem("lastStoredIndex",this.lastStoredIndex),console.log("Delta:",r.is_delta,"| Distance (sum): ",w,"(",this.sumOfDistances,")","| Editor: ",e,"| Duration:",Date.now()-n,"ms"))}this.lastCheck=n,this.sendUpdate()}catch(s){console.error(s)}R=0}},async sendUpdate(){if(Date.now()-this.lastSending<Ie||ne++)return;let e=[],t=this.lastSentIndex,n=this.lastSentHash,i=this.lastSentIndex+1;for(;i<this.history.length;)e.push(this.history[i]),n=this.history[i].hash_after,t=i++;e.length>0&&(await C().saveWritingStepsToBackend(e)&&(this.lastSentIndex=t,await u.setItem("lastSentIndex",t),await u.setItem("lastSentHash",n)),this.lastSending=Date.now()),ne=!1},async hasUnsentSavingsInStorage(){var e,t;return this.lastStoredIndex=(e=await u.getItem("lastStoredIndex"))!=null?e:-1,this.lastSentIndex=(t=await u.getItem("lastSentIndex"))!=null?t:-1,this.lastStoredIndex>this.lastSentIndex},async hasHashInStorage(e){var t;return this.lastSentHash=(t=await u.getItem("lastSentHash"))!=null?t:"",e==this.lastSentHash}}}),C=D("api",{state:()=>({backendUrl:"",returnUrl:"",userKey:"",environmentKey:"",dataToken:"",fileToken:"",timeOffset:0,initialized:!1,review:!1,showInitFailure:!1,showReplaceConfirmation:!1,showReloadConfirmation:!1,showAuthorizeFailure:!1,showFinalizeFailure:!1,showAuthorizeFailure:!1}),getters:{requestConfig(e){return function(t){let n=e.backendUrl,i=new URLSearchParams,s=n.search(/\?+/);return s!=-1&&(i=new URLSearchParams(n.substr(s)),n=n.substr(0,s)),i.append("LongEssayUser",e.userKey),i.append("LongEssayEnvironment",e.environmentKey),i.append("LongEssaySignature",ae(e.userKey+e.environmentKey+t)),{baseURL:n,params:i,timeout:3e4,responseType:"json",responseEncoding:"utf8"}}},resourceUrl(){return function(e){const t=this.requestConfig(this.fileToken);return t.baseURL+"/file/"+e+"?"+t.params.toString()}},serverTime(e){return t=>Math.floor((t-e.timeOffset)/1e3)}},actions:{async init(){var i;let e=!1,t=p.get("LongEssayHash");if(this.backendUrl=localStorage.getItem("backendUrl"),this.returnUrl=localStorage.getItem("returnUrl"),this.userKey=localStorage.getItem("userKey"),this.environmentKey=localStorage.getItem("environmentKey"),this.dataToken=localStorage.getItem("dataToken"),this.fileToken=localStorage.getItem("dataToken"),this.timeOffset=Math.floor((i=localStorage.getItem("timeOffset"))!=null?i:0),!!p.get("LongEssayUser")&&p.get("LongEssayUser")!==this.userKey&&(this.userKey=p.get("LongEssayUser"),e=!0),!!p.get("LongEssayEnvironment")&&p.get("LongEssayEnvironment")!==this.environmentKey&&(this.environmentKey=p.get("LongEssayEnvironment"),e=!0),!!p.get("LongEssayBackend")&&p.get("LongEssayBackend")!==this.backendUrl&&(this.backendUrl=p.get("LongEssayBackend")),!!p.get("LongEssayReturn")&&p.get("LongEssayReturn")!==this.returnUrl&&(this.returnUrl=p.get("LongEssayReturn")),!!p.get("LongEssayToken")&&p.get("LongEssayToken")!==this.dataToken&&(this.dataToken=p.get("LongEssayToken")),!this.backendUrl||!this.returnUrl||!this.userKey||!this.environmentKey||!this.dataToken){this.showInitFailure=!0;return}const n=L();e?await n.hasUnsentSavingsInStorage()?(console.log("init: new context, open savings"),this.showReplaceConfirmation=!0):(console.log("init: new context, no open savings"),await this.loadDataFromBackend()):t?await n.hasHashInStorage(t)?(console.log("init: same context, same hash"),await this.loadDataFromStorage()):await n.hasUnsentSavingsInStorage()?(console.log("init: same context, hashes differ, open savings"),this.showReloadConfirmation=!0):(console.log("init: same context, hashes differ, no open savings"),await this.loadDataFromBackend()):await n.hasUnsentSavingsInStorage()?(console.log("init: same context, no server hash, open savings"),await this.loadDataFromStorage()):(console.log("init: same context, no server hash, no open savings"),await this.loadDataFromBackend())},async loadDataFromStorage(){console.log("loadDataFromStorage..."),this.updateConfig();const e=q(),t=b(),n=F(),i=L(),s=B();await e.loadFromStorage(),await t.loadFromStorage(),await n.loadFromStorage(),await i.loadFromStorage(),await s.loadFromStorage(),this.initialized=!0},async loadDataFromBackend(){console.log("loadDataFromBackend..."),this.updateConfig();let e={};try{e=await K.get("/data",this.requestConfig(this.dataToken)),this.setTimeOffset(e),this.refreshToken(e)}catch(r){console.error(r),this.showInitFailure=!0;return}const t=q(),n=b(),i=F(),s=L();await t.loadFromData(e.data.settings),await n.loadFromData(e.data.task),await i.loadFromData(e.data.resources),await s.loadFromData(e.data.essay),e.data.essay.started||await this.sendStart(),this.initialized=!0},async sendStart(){let e={},t={started:this.serverTime(Date.now())};try{return e=await K.put("/start",t,this.requestConfig(this.dataToken)),this.setTimeOffset(e),this.refreshToken(e),!0}catch(n){return console.error(n),this.showInitFailure=!0,!1}},async saveWritingStepsToBackend(e){let t={},n={steps:e};try{return t=await K.put("/steps",n,this.requestConfig(this.dataToken)),this.setTimeOffset(t),this.refreshToken(t),!0}catch(i){return console.error(i),!1}},async saveFinalContentToBackend(e,t,n,i){let s={},r={steps:e,content:t,hash:n,authorized:i};try{return s=await K.put("/final",r,this.requestConfig(this.dataToken)),this.refreshToken(s),!0}catch(c){return console.error(c),!1}},updateConfig(){p.remove("LongEssayBackend"),p.remove("LongEssayReturn"),p.remove("LongEssayUser"),p.remove("LongEssayEnvironment"),p.remove("LongEssayToken"),p.remove("LongEssayHash"),localStorage.setItem("backendUrl",this.backendUrl),localStorage.setItem("returnUrl",this.returnUrl),localStorage.setItem("userKey",this.userKey),localStorage.setItem("environmentKey",this.environmentKey),localStorage.setItem("dataToken",this.dataToken),localStorage.setItem("fileToken",this.fileToken)},setTimeOffset(e){const t=e.headers.longessaytime*1e3,n=Date.now();this.timeOffset=n-t,localStorage.setItem("timeOffset",this.timeOffset)},refreshToken(e){e.headers.longessaydatatoken&&(this.dataToken=e.headers.longessaydatatoken,localStorage.setItem("dataToken",this.dataToken)),e.headers.longessayfiletoken&&(this.fileToken=e.headers.longessayfiletoken,localStorage.setItem("fileToken",this.fileToken))},async finalize(e){const t=q(),n=b(),i=F(),s=L(),r=B();if((e||s.openSendings>0)&&!await this.saveFinalContentToBackend(s.unsentHistory,s.storedContent,s.storedHash,e)){this.showFinalizeFailure=!0,this.showAuthorizeFailure=e;return}await t.clearStorage(),await n.clearStorage(),await i.clearStorage(),await s.clearStorage(),await r.clearStorage(),localStorage.clear(),window.location=this.returnUrl}}}),X=H.createInstance({storeName:"task",description:"Task data"}),b=D("task",{state:()=>({title:null,writer_name:null,instructions:null,writing_end:null,remaining_time:null}),getters:{hasWritingEnd:e=>!!e.writing_end,writingEndReached:e=>e.remaining_time===0},actions:{setData(e){this.title=e.title,this.instructions=e.instructions,this.writer_name=e.writer_name,this.writing_end=e.writing_end},async clearStorage(){try{await X.clear()}catch(e){console.log(e)}},async loadFromStorage(){try{const e=await X.getItem("task");this.setData(e)}catch(e){console.log(e)}this.updateRemainingTime(),setInterval(this.updateRemainingTime,1e3)},async loadFromData(e){try{await X.setItem("task",e),this.setData(e)}catch(t){console.log(t)}this.updateRemainingTime(),setInterval(this.updateRemainingTime,1e3)},updateRemainingTime(){const e=C();this.writing_end?this.remaining_time=Math.max(0,this.writing_end-e.serverTime(Date.now())):this.remaining_time=null,this.writingEndReached&&(e.review=!0)}}}),Ce={setup(e){const t=b(),n=B();function i(s){const r=("00"+Math.floor(s)%60).slice(-2),c=("00"+Math.floor(s/60)%60).slice(-2),f=("00"+Math.floor(s/3600)%24).slice(-2),w=Math.floor(s/86400);return w>1?w+" Tage "+f+" Stunden":w>0?w+" Tag "+f+" Stunden":f!="00"?f+":"+c+":"+r+" Stunden":c!="00"?c+":"+r+" Minuten":r+" Sekunden"}return(s,r)=>g((h(),_(v,{onClick:r[0]||(r[0]=c=>a(n).toggleTimer())},{default:l(()=>[o(y,{left:"",icon:"mdi-clock-outline"}),g(d("span",null,V(i(a(t).remaining_time)),513),[[m,a(n).showTimer]])]),_:1},512)),[[m,!a(t).writingEndReached]])}},Te=d("span",null,"Beenden ...",-1),Ee=P("Unterbrechen"),Le=P("Vorschau / Abgabe ..."),Re={setup(e){const t=C(),n=b();function i(){var s;return(n.writer_name==null?"":n.writer_name+", ")+((s=n.title)!=null?s:"")}return(s,r)=>(h(),_(ee,{elevation:"1",color:"white",density:"compact"},{default:l(()=>[o(he,null,{default:l(()=>[P(V(i()),1)]),_:1}),o(ie),a(n).hasWritingEnd?(h(),_(Ce,{key:0})):I("",!0),g(o(v,null,{default:l(()=>[o(y,{left:"",icon:"mdi-logout-variant"}),Te,o(ue,{activator:"parent",anchor:"bottom end",origin:"end top"},{default:l(()=>[o(U,null,{default:l(()=>[o(oe,null,{default:l(()=>[o($,{href:a(t).returnUrl},{default:l(()=>[o(se,null,{default:l(()=>[Ee]),_:1})]),_:1},8,["href"]),o($,{onClick:r[0]||(r[0]=c=>a(t).review=!0)},{default:l(()=>[o(se,null,{default:l(()=>[Le]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},512),[[m,!a(t).review]])]),_:1}))}};var z=(e,t)=>{const n=e.__vccOpts||e;for(const[i,s]of t)n[i]=s;return n};const $e={setup(e){const t=B(),n=F();function i(){document.getElementById("app-navigation-drawer").dispatchEvent(new Event("mouseenter"))}function s(){document.getElementById("app-navigation-drawer").dispatchEvent(new Event("mouseleave"))}function r(f){f.type=="url"?window.open(f.source,"long-essay-writer-resource-"+f.key):(n.selectResource(f),t.showResources())}function c(f){switch(f.type){case"url":return n.isActive(f)&&t.isResourcesVisible?"mdi-file-link":"mdi-file-link-outline";default:return n.isActive(f)&&t.isResourcesVisible?"mdi-file":"mdi-file-outline"}}return(f,w)=>(h(),_(fe,{id:"app-navigation-drawer",elevation:"2",color:"grey-lighten-4",width:"500",permanent:"",rail:"","expand-on-hover":""},{default:l(()=>[o(oe,{color:"grey-lighten-4"},{default:l(()=>[o($,{onClick:w[0]||(w[0]=S=>{a(t).showInstructions(),s()}),"prepend-icon":a(t).isInstructionsVisible?"mdi-text-box":"mdi-text-box-outline",title:"Aufgabenstellung"},null,8,["prepend-icon"]),o($,{onClick:w[1]||(w[1]=S=>{a(t).showEssay(),s()}),"prepend-icon":a(t).isEssayVisible?"mdi-file-edit":"mdi-file-edit-outline",title:"Essay schreiben"},null,8,["prepend-icon"]),g(o(ge,null,{activator:l(({props:S})=>[o($,me(S,{onMouseenter:w[2]||(w[2]=W=>i()),"prepend-icon":a(t).isResourcesVisible?"mdi-book-open":"mdi-book-open-outline",title:"Material"}),null,16,["prepend-icon"])]),default:l(()=>[(h(!0),E(Y,null,re(a(n).resources,S=>(h(),_($,{onClick:W=>{r(S),s()},"prepend-icon":c(S),title:S.title,key:S.key},null,8,["onClick","prepend-icon","title"]))),128))]),_:1},512),[[m,a(n).hasResources]])]),_:1})]),_:1}))}};var Fe=z($e,[["__scopeId","data-v-bbfa5284"]]);const Ve={setup(e){const t=L();return(n,i)=>(h(),_(ee,{position:"bottom",height:"48",color:"grey-lighten-5",elevation:"1"},{default:l(()=>[P(" Stored Changes: "+V(a(t).historyLength)+" | Unsent Changes: "+V(a(t).openSendings),1)]),_:1}))}};const De=["innerHTML"],Ue={setup(e){const t=b();return(n,i)=>(h(),E("div",{id:"app-instructions",innerHTML:a(t).instructions},null,8,De))}};var Be=z(Ue,[["__scopeId","data-v-e8fd4a6e"]]);const He={class:"resources"},ze={key:0},Ke=["data"],Ae={setup(e){const t=F();return(n,i)=>(h(),E("div",He,[(h(!0),E(Y,null,re(a(t).resources,s=>(h(),E(Y,{key:s.key},[s.type=="file"?g((h(),E("div",ze,[s.mimetype=="application/pdf"?(h(),E("object",{key:0,type:"application/pdf",data:s.url,width:"100%",height:"100%"},null,8,Ke)):I("",!0)],512)),[[m,a(t).isActive(s)]]):I("",!0)],64))),128))]))}};var Oe=z(Ae,[["__scopeId","data-v-ee35b266"]]);const Me={setup(e){const t=L(),n=q();function i(){switch(n.formatting_options){case"full":return"undo redo | formatselect | bold italic underline | bullist numlist | removeformat | charmap";case"medium":return"undo redo | bold italic underline | bullist numlist | removeformat | charmap";case"minimal":return"undo redo | bold italic underline | removeformat | charmap";case"none":default:return"undo redo | charmap"}}const s="essay";return(r,c)=>(h(),_(a(pe),{id:s,modelValue:a(t).currentContent,"onUpdate:modelValue":c[0]||(c[0]=f=>a(t).currentContent=f),onChange:c[1]||(c[1]=f=>a(t).updateContent(!0)),onKeyup:c[2]||(c[2]=f=>a(t).updateContent(!0)),"api-key":"no-api-key",init:{height:"100%",menubar:!1,plugins:"lists charmap",toolbar:i(),custom_undo_redo_levels:10}},null,8,["modelValue","init"]))}};const j=e=>(le("data-v-439538ca"),e=e(),de(),e),Ne={class:"container"},qe={class:"col-header"},Pe={class:"text-h6"},je={class:"col-content"},We=j(()=>d("span",null,"Mein Text",-1)),Je=j(()=>d("span",null,"Erweitern",-1)),Ge=j(()=>d("div",{class:"col-header"},[d("h2",{class:"text-h6"},"Mein Text")],-1)),Qe={class:"col-content"},Ze=j(()=>d("span",null,"Erweitern",-1)),Xe={setup(e){const t=B(),n=F();return(i,s)=>(h(),_(te,{"fill-height":""},{default:l(()=>[d("div",Ne,[g(d("div",{class:A(["column",{colExpanded:a(t).isLeftExpanded,colNormal:!a(t).isLeftExpanded}])},[d("div",qe,[g(d("h2",Pe,"Aufgabenstellung",512),[[m,a(t).isInstructionsVisible]]),g(d("h2",{class:"text-h6"},V(a(n).activeTitle),513),[[m,a(t).isResourcesVisible]])]),d("div",je,[g(o(Be,null,null,512),[[m,a(t).isInstructionsVisible]]),g(o(Oe,null,null,512),[[m,a(t).isResourcesVisible]])]),d("div",{class:A(["col-footer text-right",{footerExpanded:a(t).isLeftExpanded,footerNormal:!a(t).isLeftExpanded}])},[g(o(v,{class:"ma-2",onClick:s[0]||(s[0]=r=>a(t).setLeftExpanded(!1))},{default:l(()=>[o(y,{icon:"mdi-chevron-left"}),We]),_:1},512),[[m,a(t).isLeftExpanded]]),g(o(v,{class:"ma-2",onClick:s[1]||(s[1]=r=>a(t).setLeftExpanded(!0))},{default:l(()=>[Je,o(y,{icon:"mdi-chevron-right"})]),_:1},512),[[m,!a(t).isLeftExpanded]])],2)],2),[[m,a(t).isLeftVisible]]),g(d("div",{class:A(["column",{colExpanded:a(t).isRightExpanded,colNormal:!a(t).isRightExpanded}])},[Ge,d("div",Qe,[o(Me)]),d("div",{class:A(["col-footer text-left",{footerExpanded:a(t).isRightExpanded,footerNormal:!a(t).isRightExpanded}])},[g(o(v,{class:"ma-2",onClick:s[2]||(s[2]=r=>a(t).setRightExpanded(!0))},{default:l(()=>[o(y,{icon:"mdi-chevron-left"}),Ze]),_:1},512),[[m,!a(t).isRightExpanded]]),g(o(v,{class:"ma-2",onClick:s[3]||(s[3]=r=>a(t).setRightExpanded(!1))},{default:l(()=>[g(d("span",null,"Aufgabenstellung",512),[[m,a(t).isInstructionsSelected]]),g(d("span",null,V(a(n).activeTitle),513),[[m,a(t).isResourcesSelected]]),o(y,{icon:"mdi-chevron-right"})]),_:1},512),[[m,a(t).isRightExpanded]])],2)],2),[[m,a(t).isRightVisible]])])]),_:1}))}};var Ye=z(Xe,[["__scopeId","data-v-439538ca"]]);const et=d("p",null,"Lade Daten...",-1),tt=d("span",null,"Beenden ...",-1),st=d("p",null,"Beim Laden der Daten ist ein Fehler aufgetreten. Die Anwendung kann nicht gestartet werden.",-1),nt=d("span",null,"Beenden",-1),at=d("p",null,"In Ihrem Browser sind Eingaben eines anderen Benutzers oder einer anderen Aufgabe vorhanden, die noch nicht \xFCbertragen wurden. Durch das Laden werden diese Eingaben gel\xF6scht.",-1),it=d("p",null,"M\xF6chten Sie die neue Aufgabe laden?",-1),ot=d("span",null,"Laden",-1),rt=d("span",null,"Abbrechen",-1),lt=d("p",null,"In Ihrem Browser sind Eingaben vorhanden, die noch nicht \xFCbertragen wurden. Die letzte im System gespeicherte Eingabe scheint aber nicht aus diesem Browser zu stammen. Das kann z.B. passieren, wenn Ihre Netzverbindung unterbrochen wurde und Sie anschlie\xDFend in einem anderen Browser weitergearbeitet haben. Durch das Laden werden Ihre Eingaben im Browser \xFCberschrieben.",-1),dt=d("p",null,"M\xF6chten Sie die Eingabe vom System laden?",-1),ct=d("span",null,"Laden",-1),ht=d("span",null,"Abbrechen",-1),ut={setup(e){const t=C();return(n,i)=>(h(),_(te,{"fill-height":""},{default:l(()=>[o(ee,{elevation:"1",color:"white",density:"compact"},{default:l(()=>[et,o(ie),o(v,{href:a(t).returnUrl},{default:l(()=>[o(y,{left:"",icon:"mdi-logout-variant"}),tt]),_:1},8,["href"])]),_:1}),o(N,{persistent:"",modelValue:a(t).showInitFailure,"onUpdate:modelValue":i[0]||(i[0]=s=>a(t).showInitFailure=s)},{default:l(()=>[o(U,null,{default:l(()=>[o(O,null,{default:l(()=>[st]),_:1}),o(M,null,{default:l(()=>[o(v,{href:a(t).returnUrl},{default:l(()=>[o(y,{left:"",icon:"mdi-logout-variant"}),nt]),_:1},8,["href"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),o(N,{persistent:"",modelValue:a(t).showReplaceConfirmation,"onUpdate:modelValue":i[2]||(i[2]=s=>a(t).showReplaceConfirmation=s)},{default:l(()=>[o(U,null,{default:l(()=>[o(O,null,{default:l(()=>[at,it]),_:1}),o(M,null,{default:l(()=>[o(v,{onClick:i[1]||(i[1]=s=>a(t).loadDataFromBackend())},{default:l(()=>[o(y,{left:"",icon:"mdi-reload"}),ot]),_:1}),o(v,{href:a(t).returnUrl},{default:l(()=>[o(y,{left:"",icon:"mdi-logout-variant"}),rt]),_:1},8,["href"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),o(N,{persistent:"",modelValue:a(t).showReloadConfirmation,"onUpdate:modelValue":i[4]||(i[4]=s=>a(t).showReloadConfirmation=s)},{default:l(()=>[o(U,null,{default:l(()=>[o(O,null,{default:l(()=>[lt,dt]),_:1}),o(M,null,{default:l(()=>[o(v,{onClick:i[3]||(i[3]=s=>a(t).loadDataFromBackend())},{default:l(()=>[o(y,{left:"",icon:"mdi-reload"}),ct]),_:1}),o(v,{href:a(t).returnUrl},{default:l(()=>[o(y,{left:"",icon:"mdi-logout-variant"}),ht]),_:1},8,["href"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}};const x=e=>(le("data-v-42b06605"),e=e(),de(),e),gt={class:"container"},mt={class:"column"},ft={class:"col-header bg-grey-lighten-4"},pt=x(()=>d("h2",{class:"text-h6"},"Ihre Bearbeitungszeit ist beendet",-1)),_t=x(()=>d("p",null,"Es ist keine weitere Eingabe m\xF6glich. Bitte \xFCberpr\xFCfen Sie, ob Sie den Text in dieser Form zur Bewertung abgeben m\xF6chten.",-1)),yt=[pt,_t],vt={class:"col-header bg-grey-lighten-4"},wt=x(()=>d("h2",{class:"text-h6"},"Abgabe-Text",-1)),St=x(()=>d("p",null,"Bitte \xFCberpr\xFCfen Sie, ob Sie den Text in dieser Form zur Bwertung abgeben m\xF6chten. Nach der Abgabe ist keine weitere Bearbeitung mehr m\xF6glich!",-1)),kt=[wt,St],It={class:"col-content"},xt=["innerHTML"],bt={class:"col-footer text-right bg-grey-lighten-4"},Ct=x(()=>d("span",null,"Zur Bewertung abgeben",-1)),Tt=x(()=>d("span",null,"Ohne Abgabe beenden",-1)),Et=x(()=>d("span",null,"Weiter bearbeiten",-1)),Lt=x(()=>d("span",null,"Sp\xE4ter versuchen",-1)),Rt=x(()=>d("span",null,"Ohne Speichern beenden",-1)),$t={setup(e){const t=C(),n=L(),i=b();return(s,r)=>(h(),_(te,{"fill-height":""},{default:l(()=>[d("div",gt,[d("div",mt,[g(d("div",ft,yt,512),[[m,a(i).writingEndReached]]),g(d("div",vt,kt,512),[[m,!a(i).writingEndReached]]),d("div",It,[d("div",{class:"review-text",innerHTML:a(n).storedContent},null,8,xt)]),d("div",bt,[o(v,{class:"ma-2",onClick:r[0]||(r[0]=c=>a(t).finalize(!0)),color:"secondary"},{default:l(()=>[o(y,{icon:"mdi-file-send-outline"}),Ct]),_:1}),g(o(v,{class:"ma-2",onClick:r[1]||(r[1]=c=>a(t).finalize(!1))},{default:l(()=>[o(y,{icon:"mdi-logout-variant"}),Tt]),_:1},512),[[m,a(i).writingEndReached]]),g(o(v,{class:"ma-2",onClick:r[2]||(r[2]=c=>a(t).review=!1)},{default:l(()=>[o(y,{icon:"mdi-file-edit-outline"}),Et]),_:1},512),[[m,!a(i).writingEndReached]])])])]),o(N,{persistent:"",modelValue:a(t).showFinalizeFailure,"onUpdate:modelValue":r[4]||(r[4]=c=>a(t).showFinalizeFailure=c)},{default:l(()=>[o(U,null,{default:l(()=>[o(O,null,{default:l(()=>[g(d("p",null,"Beim Speichern der Abgabe ist ein Fehler aufgetreten. Bitte versuchen Sie es sp\xE4ter noch einmal.",512),[[m,a(t).showAuthorizeFailure]]),g(d("p",null,"Beim Speichern Ihrer letzten \xC4nderungen ist ein Fehler aufgetreten. Bitte versuchen Sie es sp\xE4ter noch einmal.",512),[[m,!a(t).showFinalizeFailure]])]),_:1}),o(M,null,{default:l(()=>[o(v,{onClick:r[3]||(r[3]=c=>a(t).showFinalizeFailure=!1)},{default:l(()=>[o(y,{left:"",icon:"mdi-close"}),Lt]),_:1}),o(v,{href:a(t).returnUrl},{default:l(()=>[o(y,{left:"",icon:"mdi-logout-variant"}),Rt]),_:1},8,["href"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}};var Ft=z($t,[["__scopeId","data-v-42b06605"]]);const Vt={setup(e){const t=C();return t.init(),(n,i)=>(h(),_(_e,{"fill-height":""},{default:l(()=>[a(t).initialized?I("",!0):(h(),_(ut,{key:0})),a(t).initialized?(h(),_(Re,{key:1})):I("",!0),a(t).initialized?(h(),_(Ve,{key:2})):I("",!0),a(t).initialized&&!a(t).review?(h(),_(Fe,{key:3})):I("",!0),a(t).initialized&&!a(t).review?(h(),_(Ye,{key:4})):I("",!0),a(t).initialized&&a(t).review?(h(),_(Ft,{key:5})):I("",!0)]),_:1}))}};var Dt=ye();ve(Vt).use(we()).use(Dt).mount("#app");
