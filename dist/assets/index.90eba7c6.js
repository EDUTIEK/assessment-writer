import{l as T,d as b,a as l,b as K,o as f,c as h,w as r,e as n,V as I,f as V,g as p,h as y,u,i as U,j as d,k as m,m as c,n as w,p as B,E as x,q as N,r as S,s as R,t as g,v as A,x as D,y as z,z as F,A as $,B as C}from"./vendor.5a9235c3.js";const M=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const _ of i.addedNodes)_.tagName==="LINK"&&_.rel==="modulepreload"&&o(_)}).observe(document,{childList:!0,subtree:!0});function s(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerpolicy&&(i.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?i.credentials="include":a.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(a){if(a.ep)return;a.ep=!0;const i=s(a);fetch(a.href,i)}};M();const L=T.createInstance({storeName:"task",description:"Task data"}),k=b("task",{state:()=>({instructions:null,writing_end:null}),actions:{setData(e){this.instructions=e.instructions,this.writing_end=e.writing_end},async loadFromStorage(){try{const e=await L.getItem("task");this.setData(e)}catch(e){console.log(e)}},async loadFromData(e){try{await L.setItem("task",e),this.setData(e)}catch(t){console.log(t)}}}}),v=b("api",{state:()=>({initialized:!1,backendUrl:"",returnUrl:"",userKey:"",environmentKey:"",authToken:""}),getters:{requestConfig(e){let t=e.backendUrl,s=new URLSearchParams,o=t.search(/\?+/);return o!=-1&&(s=new URLSearchParams(t.substr(o)),t=t.substr(0,o)),{baseURL:t,params:s,headers:{LongEssayUser:e.userKey,LongEssayEnvironment:e.environmentKey,LongEssayToken:e.authToken},timeout:3e4,responseType:"json",responseEncoding:"utf8"}}},actions:{setInitialized(e){this.initialized=e},setBackendUrl(e){this.backendUrl=e,localStorage.setItem("backendUrl",e)},setReturnUrl(e){this.returnUrl=e,localStorage.setItem("returnUrl",e)},setUserKey(e){this.userKey=e,localStorage.setItem("userKey",e)},setEnvironmentKey(e){this.environmentKey=e,localStorage.setItem("environmentKey",e)},setAuthToken(e){this.authToken=e,localStorage.setItem("authToken",e)},refreshToken(e){this.authToken=e.headers.longessaytoken,localStorage.setItem("authToken",this.authToken)},async init(){let e=!1,t=localStorage.getItem("backendUrl"),s=localStorage.getItem("returnUrl"),o=localStorage.getItem("userKey"),a=localStorage.getItem("environmentKey"),i=localStorage.getItem("authToken");!!l.get("LongEssayBackend")&&l.get("LongEssayBackend")!==t&&(t=l.get("LongEssayBackend"),e=!0),!!l.get("LongEssayReturn")&&l.get("LongEssayReturn")!==s&&(s=l.get("LongEssayReturn"),e=!0),!!l.get("LongEssayUser")&&l.get("LongEssayUser")!==o&&(o=l.get("LongEssayUser"),e=!0),!!l.get("LongEssayEnvironment")&&l.get("LongEssayEnvironment")!==a&&(a=l.get("LongEssayEnvironment"),e=!0),!!l.get("LongEssayToken")&&l.get("LongEssayToken")!==i&&(i=l.get("LongEssayToken"),e=!0),!!t&&!!s&&!!o&&!!a&&!!i&&(this.setBackendUrl(t),this.setReturnUrl(s),this.setUserKey(o),this.setEnvironmentKey(a),this.setAuthToken(i),e?await this.loadDataFromBackend():await this.loadDataFromStorage(),this.setInitialized(!0))},async loadDataFromBackend(){let e={};try{e=await K.get("/data",this.requestConfig),this.refreshToken(e)}catch(s){console.error(s);return}await k().setData(e.data.task)},async loadDataFromStorage(){await k().loadFromStorage()}}}),O=d("Fred Neumann, Klausur Vertragsrecht I"),P=m("span",null,"0 Mitteilungen",-1),q=m("span",null,"Restzeit 02:13h",-1),j=m("span",null,"Beenden ...",-1),H={setup(e){const t=v();return(s,o)=>(f(),h(U,{elevation:"1",color:"white",density:"compact"},{default:r(()=>[n(I,null,{default:r(()=>[O]),_:1}),n(V),n(y,null,{default:r(()=>[n(p,{left:"",icon:"mdi-bell-outline"}),P]),_:1}),n(y,null,{default:r(()=>[n(p,{left:"",icon:"mdi-clock-outline"}),q]),_:1}),n(y,{href:u(t).returnUrl},{default:r(()=>[n(p,{left:"",icon:"mdi-logout-variant"}),j]),_:1},8,["href"])]),_:1}))}};var E=(e,t)=>{const s=e.__vccOpts||e;for(const[o,a]of t)s[o]=a;return s};const G={};function J(e,t){return f(),h(B,{elevation:"2",color:"grey-lighten-2",rail:"","expand-on-hover":""},{default:r(()=>[n(w,null,{default:r(()=>[n(c,{"prepend-icon":"mdi-text-box-outline",title:"Aufgabenstellung"}),n(c,{"prepend-icon":"mdi-file-edit-outline",title:"Essay schreiben"}),n(c,{"prepend-icon":"mdi-clipboard-outline",title:"Notizbrett 1"}),n(c,{"prepend-icon":"mdi-clipboard-outline",title:"Notizbrett 2"})]),_:1})]),_:1})}var Q=E(G,[["render",J]]);const W={},X=d(" This is the state Bar ");function Y(e,t){return f(),h(U,{position:"bottom",height:"48",color:"grey-lighten-5",elevation:"1"},{default:r(()=>[X]),_:1})}var Z=E(W,[["render",Y]]);const ee={setup(e){return(t,s)=>(f(),h(u(x),{"api-key":"no-api-key",init:{height:500,menubar:!1,plugins:"lists charmap",toolbar:"undo redo | formatselect | bold italic |            bullist numlist outdent indent | removeformat | charmap"}}))}},te=m("h2",{class:"text-h6"},"Aufgabenstellung",-1),ne=["innerHTML"],ae=m("h2",{class:"text-h6"},"Mein Text",-1),re={setup(e){const t=v(),s=k();return(o,a)=>(f(),h(D,null,{default:r(()=>[n(A,{color:"grey"},{default:r(()=>[n(N,{dense:""},{default:r(()=>[n(S,null,{default:r(()=>[te,m("div",{innerHTML:u(s).instructions},null,8,ne),n(R,null,{default:r(()=>[n(c,null,{default:r(()=>[d("initialized: "+g(u(t).initialized),1)]),_:1}),n(c,null,{default:r(()=>[d("backendUrl: "+g(u(t).backendUrl),1)]),_:1}),n(c,null,{default:r(()=>[d("returnUrl: "+g(u(t).returnUrl),1)]),_:1}),n(c,null,{default:r(()=>[d("userKey: "+g(u(t).userKey),1)]),_:1}),n(c,null,{default:r(()=>[d("environmentKey: "+g(u(t).environmentKey),1)]),_:1}),n(c,null,{default:r(()=>[d("authToken: "+g(u(t).authToken),1)]),_:1})]),_:1})]),_:1}),n(S,{color:"white"},{default:r(()=>[ae,n(ee)]),_:1})]),_:1})]),_:1})]),_:1}))}},se={setup(e){return v().init(),(s,o)=>(f(),h(z,null,{default:r(()=>[n(H),n(Q),n(re),n(Z)]),_:1}))}};var oe=F();$(se).use(C()).use(oe).mount("#app");
