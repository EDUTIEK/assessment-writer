import{l as F,d as U,D as he,m as oe,a as g,b as P,r as ee,w as f,v as p,u as n,o as h,c as _,e as r,f as o,V as S,g as d,t as V,h as w,i as N,j as ge,k as re,n as k,p as me,q as M,s as le,x as R,y as te,z as X,A as fe,B as pe,C,E as de,F as Q,G as _e,H as ye,I as O,J as Y,K as ce,L as ue,M as q,N as j,O as W,P as ve,Q as Se,R as we,S as ke}from"./vendor.f58619ff.js";const Ie=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function s(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerpolicy&&(l.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?l.credentials="include":a.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=s(a);fetch(a.href,l)}};Ie();const se=F.createInstance({storeName:"settings",description:"Settings data"}),Z=U("settings",{state:()=>({headline_scheme:null,formatting_options:null,notice_boards:null,copy_allowed:null}),actions:{setData(e){this.headline_scheme=e.headline_scheme,this.formatting_options=e.formatting_options,this.notice_boards=e.notice_boards,this.copy_allowed=e.copy_allowed},async loadFromStorage(){try{const e=await se.getItem("settings");this.setData(e)}catch(e){console.log(e)}},async loadFromData(e){try{await se.setItem("settings",e),this.setData(e)}catch(t){console.log(t)}}}}),ne=F.createInstance({storeName:"layout",description:"Layout data"}),A=U("layout",{state:()=>({expandedColumn:"left",leftContent:"instructions",rightContent:"essay",showTimer:!0}),getters:{isLeftExpanded:e=>e.expandedColumn=="left",isRightExpanded:e=>e.expandedColumn=="right",isLeftVisible:e=>e.expandedColumn!="right",isRightVisible:e=>e.expandedColumn!="left",isInstructionsSelected:e=>e.leftContent=="instructions",isResourcesSelected:e=>e.leftContent=="resources",isInstructionsVisible:e=>e.expandedColumn!="right"&&e.leftContent=="instructions",isResourcesVisible:e=>e.expandedColumn!="right"&&e.leftContent=="resources",isEssayVisible:e=>e.expandedColumn!="left"&&e.rightContent=="essay"},actions:{async loadFromStorage(){try{const e=await ne.getItem("layout");this.expandedColumn=e.expandedColumn,this.leftContent=e.leftContent,this.rightContent=e.rightContent,this.showTimer=e.showTimer}catch(e){console.log(e)}},async saveToStorage(){try{await ne.setItem("layout",{expandedColumn:this.expandedColumn,leftContent:this.leftContent,rightContent:this.rightContent,showTimer:this.showTimer})}catch(e){console.log(e)}},showInstructions(){this.setLeftVisible(),this.leftContent="instructions",this.saveToStorage()},showResources(){this.setLeftVisible(),this.leftContent="resources",this.saveToStorage()},showEssay(){this.setRightVisible(),this.rightContent="essay",this.saveToStorage()},setLeftVisible(){this.isLeftVisible||(this.expandedColumn="left",this.saveToStorage())},setRightVisible(){this.isRightVisible||(this.expandedColumn="right",this.saveToStorage())},setLeftExpanded(e){this.expandedColumn=e?"left":"none",this.saveToStorage()},setRightExpanded(e){this.expandedColumn=e?"right":"none",this.saveToStorage()},toggleTimer(){this.showTimer=!this.showTimer,this.saveToStorage()}}}),I=F.createInstance({storeName:"resources",description:"Resource data"}),B=U("resources",{state:()=>({keys:[],resources:[],activeKey:""}),getters:{hasResources:e=>e.resources.length>0,activeTitle(e){const t=e.resources.find(s=>s.key==e.active_key);return t?t.title:""},getResource(e){return t=>e.resources.find(s=>s.key==t)},isActive(e){return t=>e.active_key==t.key}},actions:{async loadFromStorage(){var e;try{const t=await I.getItem("resourceKeys");t&&(this.keys=JSON.parse(t)),this.activeKey=(e=await I.getItem("activeKey"))!=null?e:[],this.resources=[];let s=0;for(;s<this.keys.length;){let i=await I.getItem(this.keys[s]);this.resources.push(i),s++}}catch(t){console.log(t)}},async loadFromData(e){const t=x();try{await I.clear(),this.keys=[],this.resources=[];let s=0;for(;s<e.length;){let i=e[s];i.url=t.resourceUrl(i.key),this.resources.push(i),this.keys.push(i.key),await I.setItem(i.key,i),s++}await I.setItem("resourceKeys",JSON.stringify(this.keys)),await I.setItem("activeKey",this.activeKey)}catch(s){console.log(s)}},async selectResource(e){this.active_key=e.key,await I.setItem("activeKey",this.activeKey)}}}),m=F.createInstance({storeName:"essay",description:"Essay data"}),b=new he,J=1e3,xe=5e3,be=5e3,Ce=10,Te=1e3,G={storedContent:"",storedHash:"",history:[],lastStoredIndex:-1,lastSentIndex:-1,lastSentHash:"",currentContent:"",sumOfDistances:0,lastCheck:0,lastSave:0,lastSending:0};let L=0,ae=0;const $=U("essay",{state:()=>G,getters:{hasHistory:e=>e.history.length>0,historyLength:e=>e.history.length,openSendings:e=>e.lastStoredIndex-e.lastSentIndex,formatTimestamp(){return e=>new Date(e).toISOString().slice(0,19).replace("T"," ")},formatIndex(){return e=>e.toString().padStart(9,"0")},makeHash(){return(e,t)=>oe(e+t)}},actions:{addToHistory(e,t=0){let s=this.history.push(e)-1;return e.is_delta?this.sumOfDistances+=t:this.sumOfDistances=0,s},async loadFromData(e){var t,s,i;L=1;try{this.$state=G,this.currentContent=(t=e.content)!=null?t:"",this.storedContent=(s=e.content)!=null?s:"",this.storedHash=(i=e.hash)!=null?i:"",await m.clear(),await m.setItem("storedContent",this.storedContent),await m.setItem("storedHash",this.storedHash);let a=0;for(;a<e.steps.length;){let l=e.steps[a],c={is_delta:l.is_delta,timestamp:l.timestamp,content:l.content,hash_before:l.hash_before,hash_after:l.hash_after};this.addToHistory(c),await m.setItem(this.formatIndex(a),c),a++}this.lastStoredIndex=this.history.length-1,this.lastSentIndex=this.history.length-1,this.lastSentHash=this.storedHash,await m.setItem("lastStoredIndex",this.lastStoredIndex),await m.setItem("lastSentIndex",this.lastSentIndex),await m.setItem("lastSentHash",this.lastSentHash)}catch(a){console.log(a)}L=0,setInterval(this.updateContent,J)},async loadFromStorage(){var e,t,s,i,a;L=1;try{this.$state=G,this.lastStoredIndex=(e=await m.getItem("lastStoredIndex"))!=null?e:-1,this.lastSentIndex=(t=await m.getItem("lastSentIndex"))!=null?t:-1,this.lastSentHash=(s=await m.getItem("lastSentHash"))!=null?s:"",this.storedContent=(i=await m.getItem("storedContent"))!=null?i:"",this.storedHash=(a=await m.getItem("storedHash"))!=null?a:"",this.currentContent=this.storedContent;let l=0;for(;l<=this.lastStoredIndex;){let c=await m.getItem(this.formatIndex(l));if(c==null)break;this.addToHistory(c),l++}}catch(l){console.log(l)}L=0,setInterval(this.updateContent,J)},async updateContent(e=!1){const t=x(),s=Date.now();if(!(s-this.lastCheck<J)&&!L++){try{const i=this.currentContent+"";let a=null;if(i!=this.storedContent){const l=this.makeHash(i,t.serverTime(s));let c=b.diff_main(this.storedContent,i);b.diff_cleanupEfficiency(c);const u=b.diff_levenshtein(c),y=b.patch_toText(b.patch_make(this.storedContent,c)),v=b.patch_apply(b.patch_fromText(y),this.storedContent);this.history.length==0||y.length>i.length||this.sumOfDistances+u>Te||v[0]!=i?a={is_delta:0,timestamp:t.serverTime(s),content:i,hash_before:this.storedHash,hash_after:l}:(u>=Ce||s-this.lastSave>xe)&&(a={is_delta:1,timestamp:t.serverTime(s),content:y,hash_before:this.storedHash,hash_after:l}),a!==null&&(this.lastStoredIndex=this.addToHistory(a,u),this.lastSave=s,this.storedContent=i,this.storedHash=l,await m.setItem("storedContent",this.storedContent),await m.setItem("storedHash",this.storedHash),await m.setItem(this.formatIndex(this.lastStoredIndex),a),await m.setItem("lastStoredIndex",this.lastStoredIndex),console.log("Delta:",a.is_delta,"| Distance (sum): ",u,"(",this.sumOfDistances,")","| Editor: ",e,"| Duration:",Date.now()-s,"ms"))}this.lastCheck=s,this.sendUpdate()}catch(i){console.error(i)}L=0}},async sendUpdate(){if(Date.now()-this.lastSending<be||ae++)return;let e=[],t=this.lastSentIndex,s=this.lastSentHash,i=this.lastSentIndex+1;for(;i<this.history.length;)e.push(this.history[i]),s=this.history[i].hash_after,t=i++;e.length>0&&(await x().saveWritingStepsToBackend(e)&&(this.lastSentIndex=t,await m.setItem("lastSentIndex",t),await m.setItem("lastSentHash",s)),this.lastSending=Date.now()),ae=!1},async hasUnsentSavingsInStorage(){var e,t;return this.lastStoredIndex=(e=await m.getItem("lastStoredIndex"))!=null?e:-1,this.lastSentIndex=(t=await m.getItem("lastSentIndex"))!=null?t:-1,this.lastStoredIndex>this.lastSentIndex},async hasHashInStorage(e){var t;return this.lastSentHash=(t=await m.getItem("lastSentHash"))!=null?t:"",e==this.lastSentHash}}}),x=U("api",{state:()=>({backendUrl:"",returnUrl:"",userKey:"",environmentKey:"",dataToken:"",fileToken:"",timeOffset:0,initialized:!1,review:!1,showInitFailure:!1,showReplaceConfirmation:!1,showReloadConfirmation:!1}),getters:{requestConfig(e){return function(t){let s=e.backendUrl,i=new URLSearchParams,a=s.search(/\?+/);return a!=-1&&(i=new URLSearchParams(s.substr(a)),s=s.substr(0,a)),i.append("LongEssayUser",e.userKey),i.append("LongEssayEnvironment",e.environmentKey),i.append("LongEssaySignature",oe(e.userKey+e.environmentKey+t)),{baseURL:s,params:i,timeout:3e4,responseType:"json",responseEncoding:"utf8"}}},resourceUrl(){return function(e){const t=this.requestConfig(this.fileToken);return t.baseURL+"/file/"+e+"?"+t.params.toString()}},serverTime(e){return t=>Math.floor((t-e.timeOffset)/1e3)}},actions:{async init(){var i;let e=!1,t=g.get("LongEssayHash");if(this.backendUrl=localStorage.getItem("backendUrl"),this.returnUrl=localStorage.getItem("returnUrl"),this.userKey=localStorage.getItem("userKey"),this.environmentKey=localStorage.getItem("environmentKey"),this.dataToken=localStorage.getItem("dataToken"),this.fileToken=localStorage.getItem("dataToken"),this.timeOffset=Math.floor((i=localStorage.getItem("timeOffset"))!=null?i:0),!!g.get("LongEssayUser")&&g.get("LongEssayUser")!==this.userKey&&(this.userKey=g.get("LongEssayUser"),e=!0),!!g.get("LongEssayEnvironment")&&g.get("LongEssayEnvironment")!==this.environmentKey&&(this.environmentKey=g.get("LongEssayEnvironment"),e=!0),!!g.get("LongEssayBackend")&&g.get("LongEssayBackend")!==this.backendUrl&&(this.backendUrl=g.get("LongEssayBackend")),!!g.get("LongEssayReturn")&&g.get("LongEssayReturn")!==this.returnUrl&&(this.returnUrl=g.get("LongEssayReturn")),!!g.get("LongEssayToken")&&g.get("LongEssayToken")!==this.dataToken&&(this.dataToken=g.get("LongEssayToken")),!this.backendUrl||!this.returnUrl||!this.userKey||!this.environmentKey||!this.dataToken){this.showInitFailure=!0;return}const s=$();e?await s.hasUnsentSavingsInStorage()?(console.log("init: new context, open savings"),this.showReplaceConfirmation=!0):(console.log("init: new context, no open savings"),await this.loadDataFromBackend()):t?await s.hasHashInStorage(t)?(console.log("init: same context, same hash"),await this.loadDataFromStorage()):await s.hasUnsentSavingsInStorage()?(console.log("init: same context, hashes differ, open savings"),this.showReloadConfirmation=!0):(console.log("init: same context, hashes differ, no open savings"),await this.loadDataFromBackend()):await s.hasUnsentSavingsInStorage()?(console.log("init: same context, no server hash, open savings"),await this.loadDataFromStorage()):(console.log("init: same context, no server hash, no open savings"),await this.loadDataFromBackend())},async loadDataFromBackend(){console.log("loadDataFromBackend..."),this.updateConfig();let e={};try{e=await P.get("/data",this.requestConfig(this.dataToken)),this.setTimeOffset(e),this.refreshToken(e)}catch(l){console.error(l),this.showInitFailure=!0;return}await Z().loadFromData(e.data.settings),await D().loadFromData(e.data.task),await B().loadFromData(e.data.resources),await $().loadFromData(e.data.essay),e.data.essay.started||await this.sendStart(),this.initialized=!0},async loadDataFromStorage(){console.log("loadDataFromStorage..."),this.updateConfig(),await Z().loadFromStorage(),await D().loadFromStorage(),await B().loadFromStorage(),await $().loadFromStorage(),await A().loadFromStorage(),this.initialized=!0},async sendStart(){let e={},t={started:this.serverTime(Date.now())};try{return e=await P.put("/start",t,this.requestConfig(this.dataToken)),this.setTimeOffset(e),this.refreshToken(e),!0}catch(s){return console.error(s),this.showInitFailure=!0,!1}},async saveWritingStepsToBackend(e){let t={},s={steps:e};try{return t=await P.put("/steps",s,this.requestConfig(this.dataToken)),this.setTimeOffset(t),this.refreshToken(t),!0}catch(i){return console.error(i),!1}},updateConfig(){g.remove("LongEssayBackend"),g.remove("LongEssayReturn"),g.remove("LongEssayUser"),g.remove("LongEssayEnvironment"),g.remove("LongEssayToken"),g.remove("LongEssayHash"),localStorage.setItem("backendUrl",this.backendUrl),localStorage.setItem("returnUrl",this.returnUrl),localStorage.setItem("userKey",this.userKey),localStorage.setItem("environmentKey",this.environmentKey),localStorage.setItem("dataToken",this.dataToken),localStorage.setItem("fileToken",this.fileToken)},setTimeOffset(e){const t=e.headers.longessaytime*1e3,s=Date.now();this.timeOffset=s-t,localStorage.setItem("timeOffset",this.timeOffset)},refreshToken(e){e.headers.longessaydatatoken&&(this.dataToken=e.headers.longessaydatatoken,localStorage.setItem("dataToken",this.dataToken)),e.headers.longessayfiletoken&&(this.fileToken=e.headers.longessayfiletoken,localStorage.setItem("fileToken",this.fileToken))}}}),ie=F.createInstance({storeName:"task",description:"Task data"}),D=U("task",{state:()=>({title:null,writer_name:null,instructions:null,writing_end:null}),getters:{hasWritingEnd:e=>!!e.writing_end,writingEndReached:e=>e.remainingTime()===0,remainingTime:function(e){const t=x();return function(){return e.writing_end?Math.max(0,e.writing_end-t.serverTime(Date.now())):null}}},actions:{setData(e){this.title=e.title,this.instructions=e.instructions,this.writer_name=e.writer_name,this.writing_end=e.writing_end},async loadFromStorage(){try{const e=await ie.getItem("task");this.setData(e)}catch(e){console.log(e)}},async loadFromData(e){try{await ie.setItem("task",e),this.setData(e)}catch(t){console.log(t)}}}}),Ee={setup(e){const t=D(),s=A();let i=ee(""),a=ee(!0);l();function l(){t.writingEndReached?(i.value="Bearbeitung beendet",a.value=!1):(i.value=c(t.remainingTime()),a.value=!0)}function c(u){const y=("00"+Math.floor(u)%60).slice(-2),v=("00"+Math.floor(u/60)%60).slice(-2),E=("00"+Math.floor(u/3600)%24).slice(-2),K=Math.floor(u/86400);return K>1?K+" Tage "+E+" Stunden":K>0?K+" Tag "+E+" Stunden":E!="00"?E+":"+v+" Stunden":v!="00"?v+":"+y+" Minuten":y+" Sekunden"}return setInterval(l,1e3),(u,y)=>f((h(),_(w,{onClick:y[0]||(y[0]=v=>n(s).toggleTimer())},{default:r(()=>[o(S,{left:"",icon:"mdi-clock-outline"}),f(d("span",null,V(n(i)),513),[[p,n(s).showTimer]])]),_:1},512)),[[p,n(a)]])}},Le=d("span",null,"Beenden ...",-1),Re=N("Unterbrechen"),$e=N("Vorschau / Abgabe ..."),Ve={setup(e){const t=x(),s=D();function i(){var a;return(s.writer_name==null?"":s.writer_name+", ")+((a=s.title)!=null?a:"")}return(a,l)=>(h(),_(X,{elevation:"1",color:"white",density:"compact"},{default:r(()=>[o(ge,null,{default:r(()=>[N(V(i()),1)]),_:1}),o(re),n(s).hasWritingEnd?(h(),_(Ee,{key:0})):k("",!0),f(o(w,null,{default:r(()=>[o(S,{left:"",icon:"mdi-logout-variant"}),Le,o(me,{activator:"parent",anchor:"bottom end",origin:"end top"},{default:r(()=>[o(M,null,{default:r(()=>[o(le,null,{default:r(()=>[o(R,{href:n(t).returnUrl},{default:r(()=>[o(te,null,{default:r(()=>[Re]),_:1})]),_:1},8,["href"]),o(R,{onClick:l[0]||(l[0]=c=>n(t).review=!0)},{default:r(()=>[o(te,null,{default:r(()=>[$e]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},512),[[p,!n(t).review]])]),_:1}))}};var H=(e,t)=>{const s=e.__vccOpts||e;for(const[i,a]of t)s[i]=a;return s};const De={setup(e){const t=A(),s=B();function i(){document.getElementById("app-navigation-drawer").dispatchEvent(new Event("mouseenter"))}function a(){document.getElementById("app-navigation-drawer").dispatchEvent(new Event("mouseleave"))}function l(u){u.type=="url"?window.open(u.source,"long-essay-writer-resource-"+u.key):(s.selectResource(u),t.showResources())}function c(u){switch(u.type){case"url":return s.isActive(u)&&t.isResourcesVisible?"mdi-file-link":"mdi-file-link-outline";default:return s.isActive(u)&&t.isResourcesVisible?"mdi-file":"mdi-file-outline"}}return(u,y)=>(h(),_(_e,{id:"app-navigation-drawer",elevation:"2",color:"grey-lighten-4",width:"500",permanent:"",rail:"","expand-on-hover":""},{default:r(()=>[o(le,{color:"grey-lighten-4"},{default:r(()=>[o(R,{onClick:y[0]||(y[0]=v=>{n(t).showInstructions(),a()}),"prepend-icon":n(t).isInstructionsVisible?"mdi-text-box":"mdi-text-box-outline",title:"Aufgabenstellung"},null,8,["prepend-icon"]),o(R,{onClick:y[1]||(y[1]=v=>{n(t).showEssay(),a()}),"prepend-icon":n(t).isEssayVisible?"mdi-file-edit":"mdi-file-edit-outline",title:"Essay schreiben"},null,8,["prepend-icon"]),f(o(fe,null,{activator:r(({props:v})=>[o(R,pe(v,{onMouseenter:y[2]||(y[2]=E=>i()),"prepend-icon":n(t).isResourcesVisible?"mdi-book-open":"mdi-book-open-outline",title:"Material"}),null,16,["prepend-icon"])]),default:r(()=>[(h(!0),C(Q,null,de(n(s).resources,v=>(h(),_(R,{onClick:E=>{l(v),a()},"prepend-icon":c(v),title:v.title,key:v.key},null,8,["onClick","prepend-icon","title"]))),128))]),_:1},512),[[p,n(s).hasResources]])]),_:1})]),_:1}))}};var Ue=H(De,[["__scopeId","data-v-bbfa5284"]]);const Be={setup(e){const t=$();return(s,i)=>(h(),_(X,{position:"bottom",height:"48",color:"grey-lighten-5",elevation:"1"},{default:r(()=>[N(" Stored Changes: "+V(n(t).historyLength)+" | Unsent Changes: "+V(n(t).openSendings),1)]),_:1}))}};const Fe=["innerHTML"],He={setup(e){const t=D();return(s,i)=>(h(),C("div",{id:"app-instructions",innerHTML:n(t).instructions},null,8,Fe))}};var Ke=H(He,[["__scopeId","data-v-e8fd4a6e"]]);const Oe={class:"resources"},Me={key:0},Ne=["data"],Ae={setup(e){const t=B();return(s,i)=>(h(),C("div",Oe,[(h(!0),C(Q,null,de(n(t).resources,a=>(h(),C(Q,{key:a.key},[a.type=="file"?f((h(),C("div",Me,[a.mimetype=="application/pdf"?(h(),C("object",{key:0,type:"application/pdf",data:a.url,width:"100%",height:"100%"},null,8,Ne)):k("",!0)],512)),[[p,n(t).isActive(a)]]):k("",!0)],64))),128))]))}};var ze=H(Ae,[["__scopeId","data-v-ee35b266"]]);const Pe={setup(e){const t=$(),s=Z();function i(){switch(s.formatting_options){case"full":return"undo redo | formatselect | bold italic underline | bullist numlist | removeformat | charmap";case"medium":return"undo redo | bold italic underline | bullist numlist | removeformat | charmap";case"minimal":return"undo redo | bold italic underline | removeformat | charmap";case"none":default:return"undo redo | charmap"}}const a="essay";return(l,c)=>(h(),_(n(ye),{id:a,modelValue:n(t).currentContent,"onUpdate:modelValue":c[0]||(c[0]=u=>n(t).currentContent=u),onChange:c[1]||(c[1]=u=>n(t).updateContent(!0)),onKeyup:c[2]||(c[2]=u=>n(t).updateContent(!0)),"api-key":"no-api-key",init:{height:"100%",menubar:!1,plugins:"lists charmap",toolbar:i(),custom_undo_redo_levels:10}},null,8,["modelValue","init"]))}};const z=e=>(ce("data-v-439538ca"),e=e(),ue(),e),qe={class:"container"},je={class:"col-header"},We={class:"text-h6"},Je={class:"col-content"},Ge=z(()=>d("span",null,"Mein Text",-1)),Qe=z(()=>d("span",null,"Erweitern",-1)),Ze=z(()=>d("div",{class:"col-header"},[d("h2",{class:"text-h6"},"Mein Text")],-1)),Xe={class:"col-content"},Ye=z(()=>d("span",null,"Erweitern",-1)),et={setup(e){const t=A(),s=B();return(i,a)=>(h(),_(Y,{"fill-height":""},{default:r(()=>[d("div",qe,[f(d("div",{class:O(["column",{colExpanded:n(t).isLeftExpanded,colNormal:!n(t).isLeftExpanded}])},[d("div",je,[f(d("h2",We,"Aufgabenstellung",512),[[p,n(t).isInstructionsVisible]]),f(d("h2",{class:"text-h6"},V(n(s).activeTitle),513),[[p,n(t).isResourcesVisible]])]),d("div",Je,[f(o(Ke,null,null,512),[[p,n(t).isInstructionsVisible]]),f(o(ze,null,null,512),[[p,n(t).isResourcesVisible]])]),d("div",{class:O(["col-footer text-right",{footerExpanded:n(t).isLeftExpanded,footerNormal:!n(t).isLeftExpanded}])},[f(o(w,{class:"ma-2",onClick:a[0]||(a[0]=l=>n(t).setLeftExpanded(!1))},{default:r(()=>[o(S,{icon:"mdi-chevron-left"}),Ge]),_:1},512),[[p,n(t).isLeftExpanded]]),f(o(w,{class:"ma-2",onClick:a[1]||(a[1]=l=>n(t).setLeftExpanded(!0))},{default:r(()=>[Qe,o(S,{icon:"mdi-chevron-right"})]),_:1},512),[[p,!n(t).isLeftExpanded]])],2)],2),[[p,n(t).isLeftVisible]]),f(d("div",{class:O(["column",{colExpanded:n(t).isRightExpanded,colNormal:!n(t).isRightExpanded}])},[Ze,d("div",Xe,[o(Pe)]),d("div",{class:O(["col-footer text-left",{footerExpanded:n(t).isRightExpanded,footerNormal:!n(t).isRightExpanded}])},[f(o(w,{class:"ma-2",onClick:a[2]||(a[2]=l=>n(t).setRightExpanded(!0))},{default:r(()=>[o(S,{icon:"mdi-chevron-left"}),Ye]),_:1},512),[[p,!n(t).isRightExpanded]]),f(o(w,{class:"ma-2",onClick:a[3]||(a[3]=l=>n(t).setRightExpanded(!1))},{default:r(()=>[f(d("span",null,"Aufgabenstellung",512),[[p,n(t).isInstructionsSelected]]),f(d("span",null,V(n(s).activeTitle),513),[[p,n(t).isResourcesSelected]]),o(S,{icon:"mdi-chevron-right"})]),_:1},512),[[p,n(t).isRightExpanded]])],2)],2),[[p,n(t).isRightVisible]])])]),_:1}))}};var tt=H(et,[["__scopeId","data-v-439538ca"]]);const st=d("p",null,"Lade Daten...",-1),nt=d("span",null,"Beenden ...",-1),at=d("p",null,"Beim Laden der Daten ist ein Fehler aufgetreten. Die Anwendung kann nicht gestartet werden.",-1),it=d("span",null,"Beenden",-1),ot=d("p",null,"In Ihrem Browser sind Eingaben eines anderen Benutzers oder einer anderen Aufgabe vorhanden, die noch nicht \xFCbertragen wurden. Durch das Laden werden diese Eingaben gel\xF6scht.",-1),rt=d("p",null,"M\xF6chten Sie die neue Aufgabe laden?",-1),lt=d("span",null,"Laden",-1),dt=d("span",null,"Abbrechen",-1),ct=d("p",null,"In Ihrem Browser sind Eingaben vorhanden, die noch nicht \xFCbertragen wurden. Die letzte im System gespeicherte Eingabe scheint aber nicht aus diesem Browser zu stammen. Das kann z.B. passieren, wenn Ihre Netzverbindung unterbrochen wurde und Sie anschlie\xDFend in einem anderen Browser weitergearbeitet haben. Durch das Laden werden Ihre Eingaben im Browser \xFCberschrieben.",-1),ut=d("p",null,"M\xF6chten Sie die Eingabe vom System laden?",-1),ht=d("span",null,"Laden",-1),gt=d("span",null,"Abbrechen",-1),mt={setup(e){const t=x();return(s,i)=>(h(),_(Y,{"fill-height":""},{default:r(()=>[o(X,{elevation:"1",color:"white",density:"compact"},{default:r(()=>[st,o(re),o(w,{href:n(t).returnUrl},{default:r(()=>[o(S,{left:"",icon:"mdi-logout-variant"}),nt]),_:1},8,["href"])]),_:1}),o(W,{persistent:"",modelValue:n(t).showInitFailure,"onUpdate:modelValue":i[0]||(i[0]=a=>n(t).showInitFailure=a)},{default:r(()=>[o(M,null,{default:r(()=>[o(q,null,{default:r(()=>[at]),_:1}),o(j,null,{default:r(()=>[o(w,{href:n(t).returnUrl},{default:r(()=>[o(S,{left:"",icon:"mdi-logout-variant"}),it]),_:1},8,["href"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),o(W,{persistent:"",modelValue:n(t).showReplaceConfirmation,"onUpdate:modelValue":i[2]||(i[2]=a=>n(t).showReplaceConfirmation=a)},{default:r(()=>[o(M,null,{default:r(()=>[o(q,null,{default:r(()=>[ot,rt]),_:1}),o(j,null,{default:r(()=>[o(w,{onClick:i[1]||(i[1]=a=>n(t).loadDataFromBackend())},{default:r(()=>[o(S,{left:"",icon:"mdi-reload"}),lt]),_:1}),o(w,{href:n(t).returnUrl},{default:r(()=>[o(S,{left:"",icon:"mdi-logout-variant"}),dt]),_:1},8,["href"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),o(W,{persistent:"",modelValue:n(t).showReloadConfirmation,"onUpdate:modelValue":i[4]||(i[4]=a=>n(t).showReloadConfirmation=a)},{default:r(()=>[o(M,null,{default:r(()=>[o(q,null,{default:r(()=>[ct,ut]),_:1}),o(j,null,{default:r(()=>[o(w,{onClick:i[3]||(i[3]=a=>n(t).loadDataFromBackend())},{default:r(()=>[o(S,{left:"",icon:"mdi-reload"}),ht]),_:1}),o(w,{href:n(t).returnUrl},{default:r(()=>[o(S,{left:"",icon:"mdi-logout-variant"}),gt]),_:1},8,["href"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}};const T=e=>(ce("data-v-b6597302"),e=e(),ue(),e),ft={class:"container"},pt={class:"column"},_t={class:"col-header bg-grey-lighten-4"},yt=T(()=>d("h2",{class:"text-h6"},"Ihre Bearbeitungszeit ist beendet",-1)),vt=T(()=>d("p",null,"Es ist keine weitere Eingabe m\xF6glich. Bitte \xFCberpr\xFCfen Sie, ob Sie den Text in dieser Form zur Bewertung abgeben m\xF6chten.",-1)),St=[yt,vt],wt={class:"col-header bg-grey-lighten-4"},kt=T(()=>d("h2",{class:"text-h6"},"Abgabe-Text",-1)),It=T(()=>d("p",null,"Bitte \xFCberpr\xFCfen Sie, ob Sie den Text in dieser Form zur Bwertung abgeben m\xF6chten. Nach der Abgabe ist keine weitere Bearbeitung mehr m\xF6glich!",-1)),xt=[kt,It],bt={class:"col-content"},Ct=["innerHTML"],Tt={class:"col-footer text-right bg-grey-lighten-4"},Et=T(()=>d("span",null,"Zur Bewertung abgeben",-1)),Lt=T(()=>d("span",null,"Ohne Abgabe beenden",-1)),Rt=T(()=>d("span",null,"Weiter bearbeiten",-1)),$t={setup(e){const t=x(),s=$(),i=D();return(a,l)=>(h(),_(Y,{"fill-height":""},{default:r(()=>[d("div",ft,[d("div",pt,[f(d("div",_t,St,512),[[p,n(i).writingEndReached]]),f(d("div",wt,xt,512),[[p,!n(i).writingEndReached]]),d("div",bt,[d("div",{class:"review-text",innerHTML:n(s).currentContent},null,8,Ct)]),d("div",Tt,[o(w,{color:"green",class:"ma-2",href:n(t).returnUrl},{default:r(()=>[o(S,{icon:"mdi-file-send"}),Et]),_:1},8,["href"]),f(o(w,{class:"ma-2",href:n(t).returnUrl},{default:r(()=>[o(S,{icon:"mdi-logout-variant"}),Lt]),_:1},8,["href"]),[[p,n(i).writingEndReached]]),f(o(w,{class:"ma-2",onClick:l[0]||(l[0]=c=>n(t).review=!1)},{default:r(()=>[o(S,{icon:"mdi-file-edit-outline"}),Rt]),_:1},512),[[p,!n(i).writingEndReached]])])])])]),_:1}))}};var Vt=H($t,[["__scopeId","data-v-b6597302"]]);const Dt={setup(e){const t=x();return t.init(),(s,i)=>(h(),_(ve,{"fill-height":""},{default:r(()=>[n(t).initialized?k("",!0):(h(),_(mt,{key:0})),n(t).initialized?(h(),_(Ve,{key:1})):k("",!0),n(t).initialized?(h(),_(Be,{key:2})):k("",!0),n(t).initialized&&!n(t).review?(h(),_(Ue,{key:3})):k("",!0),n(t).initialized&&!n(t).review?(h(),_(tt,{key:4})):k("",!0),n(t).initialized&&n(t).review?(h(),_(Vt,{key:5})):k("",!0)]),_:1}))}};var Ut=Se();we(Dt).use(ke()).use(Ut).mount("#app");
